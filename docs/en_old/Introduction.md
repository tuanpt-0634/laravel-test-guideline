# Introduction to Laravel Testing

## Test Case
- Test Case is a commonly used term for a specific test. This is usually the smallest unit of testing.
- A Test Case will consist of information such as requirements testing (a set of inputs, execution preconditions), test steps, verification steps, prerequisites, outputs, test environment, etc.

## Unit Test
- Unit testing is a software testing method by which **individual units** of source code are tested to determine whether they are fit for use.
- In a Laravel project, writing Unit test is the procedure in which all test cases for **particular function/method** are witten.
- Unit test should be designed to test the function **independently**. In other words: **`A` requires `B` to run. Even when `B` is broken, unit test of `A` SHOULD PASS if there are no problems with `A`.**
- A good Unit test **SHOULD NOT**:
    - Trigger to run codes from other funtions in project
    - Hit the database
    - Use the file system
    - Access the network
    - ...

## Integration Test
- Integration testing is the phase in software testing in which individual software modules are combined and tested as a group.
- Unit tests help us to ensure that every single function works correctly. Integration tests help us to ensure that different parts of the project works flawlessly when combines with each others in the real life.

## PHPUnit
- **PHPUnit** is a programmer-oriented testing framework for PHP. It is an instance of the xUnit architecture for unit testing frameworks.
- [Installation Guide](https://phpunit.de/getting-started.html)

### Per-project installation
```
$ composer require --dev phpunit/phpunit
```

- Laravel project is already integrated with PHPUnit. You can start testing your App using the command:
```
$ ./vendor/bin/phpunit
```

> Local per-project installation is highly recommented as you might have dependencies on different versions of PHPUnit in different projects.

### Global installation

- Via download:
```
$ wget https://phar.phpunit.de/phpunit.phar
$ chmod +x phpunit.phar
$ sudo mv phpunit.phar /usr/local/bin/phpunit
```
- Via composer:
```
$ composer global require phpunit/phpunit
```

Make sure you have added `/home/<user>/.composer/vendor/bin` or `c:\Users<user>\AppData\Roaming\Composer\vendor\bin` to your `PATH` variable.

- You can run globally installed PHPUnit from anywere:
```
$ phpunit
```

## Code Coverage
- **Code coverage** is a measure used to describe the degree to which the source code of a program is executed when a particular test suite runs. In other words, **code coverage** is a way of ensuring that your tests are actually testing your codes!
- Code coverage fomular:
```
Code Coverage = (Number of Lines of Code Called By Your Tests) / (Total Number of Relevant Lines of Code) x 100%
```

For examples: If your code coverage is 90%, that means 90% of your codes in project have been called and run when testing.
- Code Coverage can be generated by PHPUnit with **Xdebug** enabled. Therefore, please make sure that you have the Xdebug installed and enabled. Check the [Xdebug Installation Guide](https://xdebug.org/docs/install)
- You can run PHPUnit and generate coverage report in HTML format by the following command:
```
phpunit --coverage-html <dir>

// Generate code coverage report in Clover XML format.
phpunit --coverage-clover <file>
```
- Code Coverage is a really useful tool for finding untested codes in your project. However, it is not a powerful number that can state how good your tests are.

## Documents
- [PHPUnit Manual](https://phpunit.de/manual/current/en/phpunit-book.pdf)
- [Laravel Testing Official Documents](https://laravel.com/docs/master/testing)
- [Laravel Testing Decoded](https://leanpub.com/laravel-testing-decoded)
- Laracast's [Testing Jargon](https://laracasts.com/series/testing-jargon)
- Laracast's [Testing Laravel](https://laracasts.com/series/phpunit-testing-in-laravel)
- Laracast's [Intuitive Integration Testing](https://laracasts.com/series/intuitive-integration-testing)
