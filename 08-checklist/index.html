
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Checklist - PHP Testing Guidelines</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#checklist" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="PHP Testing Guidelines" class="md-header-nav__button md-logo" aria-label="PHP Testing Guidelines">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            PHP Testing Guidelines
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Checklist
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PHP Testing Guidelines" class="md-nav__button md-logo" aria-label="PHP Testing Guidelines">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    PHP Testing Guidelines
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Gi·ªõi thi·ªáu
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../01-why/" class="md-nav__link">
      Vi·∫øt test ƒë·ªÉ l√†m g√¨?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../02-testcase/" class="md-nav__link">
      C∆° b·∫£n v·ªÅ test case
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../03-phpunit/" class="md-nav__link">
      PHPUnit
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../04-code-coverage/" class="md-nav__link">
      Code Coverage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../05-test-doubles-and-di/" class="md-nav__link">
      Test Doubles v√† DI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../06-mutation-testing/" class="md-nav__link">
      Mutation Testing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../07-laravel/" class="md-nav__link">
      Laravel
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Checklist
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Checklist
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-self-describing-test-method" class="md-nav__link">
    [1] Self-describing test method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-a3-arrange-asset-act" class="md-nav__link">
    [2] A3 (Arrange, Asset, Act)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use-sematicproper-assert-method" class="md-nav__link">
    [3] Use sematic/proper assert method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-if-you-write-code-write-tests" class="md-nav__link">
    [4] If you write code, write tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-unit-vs-integration" class="md-nav__link">
    [5] Unit vs Integration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-my-tests-are-fast" class="md-nav__link">
    [6] My tests are fast!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-quality-over-code-coverage-number" class="md-nav__link">
    [7] Quality over code coverage number!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-request-template" class="md-nav__link">
    Pull request template
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../09-references/" class="md-nav__link">
      T√†i li·ªáu kh√°c
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" >
    <label class="md-nav__link" for="nav-11">
      En
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="En" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon"></span>
        En
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Conventions/" class="md-nav__link">
      Laravel Testing Conventions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Introduction/" class="md-nav__link">
      Introduction to Laravel Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Knowledge/" class="md-nav__link">
      Knowledge about Unit Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11-4" type="checkbox" id="nav-11-4" >
    <label class="md-nav__link" for="nav-11-4">
      Integration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Integration" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">
        <span class="md-nav__icon md-icon"></span>
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Integration/Integration/" class="md-nav__link">
      Integration Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11-5" type="checkbox" id="nav-11-5" >
    <label class="md-nav__link" for="nav-11-5">
      Unit
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Unit" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">
        <span class="md-nav__icon md-icon"></span>
        Unit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Common/" class="md-nav__link">
      Common Testing Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Controllers/" class="md-nav__link">
      Testing Controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Middleware/" class="md-nav__link">
      Testing Middleware Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Models/" class="md-nav__link">
      Testing Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Transformers/" class="md-nav__link">
      Testing Transformers and Presenters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../en/Unit/Validation/" class="md-nav__link">
      Testing Validation Rules.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" >
    <label class="md-nav__link" for="nav-12">
      Vn
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Vn" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon"></span>
        Vn
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Conventions/" class="md-nav__link">
      Laravel Testing Conventions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Introduction/" class="md-nav__link">
      Gi·ªõi thi·ªáu v·ªÅ Laravel Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Knowledge/" class="md-nav__link">
      Knowledge about Unit Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12-4" type="checkbox" id="nav-12-4" >
    <label class="md-nav__link" for="nav-12-4">
      Integration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Integration" data-md-level="2">
      <label class="md-nav__title" for="nav-12-4">
        <span class="md-nav__icon md-icon"></span>
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Integration/Integration/" class="md-nav__link">
      Integration Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12-5" type="checkbox" id="nav-12-5" >
    <label class="md-nav__link" for="nav-12-5">
      Unit
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Unit" data-md-level="2">
      <label class="md-nav__title" for="nav-12-5">
        <span class="md-nav__icon md-icon"></span>
        Unit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Common/" class="md-nav__link">
      Common Testing Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Controllers/" class="md-nav__link">
      Testing Controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Middleware/" class="md-nav__link">
      Testing Middleware Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Models/" class="md-nav__link">
      Testing Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Transformers/" class="md-nav__link">
      Testing Transformers and Presenters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vn/Unit/Validation/" class="md-nav__link">
      Testing Validation Rules.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-self-describing-test-method" class="md-nav__link">
    [1] Self-describing test method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-a3-arrange-asset-act" class="md-nav__link">
    [2] A3 (Arrange, Asset, Act)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use-sematicproper-assert-method" class="md-nav__link">
    [3] Use sematic/proper assert method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-if-you-write-code-write-tests" class="md-nav__link">
    [4] If you write code, write tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-unit-vs-integration" class="md-nav__link">
    [5] Unit vs Integration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-my-tests-are-fast" class="md-nav__link">
    [6] My tests are fast!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-quality-over-code-coverage-number" class="md-nav__link">
    [7] Quality over code coverage number!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-request-template" class="md-nav__link">
    Pull request template
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="checklist">Checklist<a class="headerlink" href="#checklist" title="Permanent link">&para;</a></h1>
<h2 id="1-self-describing-test-method"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [1] Self-describing test method<a class="headerlink" href="#1-self-describing-test-method" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Unit Test method names must be self-describing</p>
<p>Also focus on naming style, keep the naming style consistent across all the test methods and tests.</p>
</blockquote>
<p><strong>M·ª•c ƒë√≠ch:</strong></p>
<ul>
<li>Test case l√† t√†i li·ªáu</li>
<li>ƒê·ªçc v√†o t√™n method test c√≥ th·ªÉ bi·∫øt m·ª•c ƒë√≠ch c·ªßa test case</li>
</ul>
<p><strong>Th·ª±c hi·ªán</strong></p>
<ul>
<li>T√™n test method kh√¥ng c·∫ßn ph·∫£i qu√° ng·∫Øn g·ªçn</li>
<li>T√™n test method ph·∫£i ch·ªâ ra ƒëi·ªÅu ki·ªán v√† expect c·ªßa test case</li>
<li>Th·ªëng nh·∫•t convention trong project, m·∫∑c ƒë·ªãnh visibility c·ªßa 1 method trong class l√† <code>public</code> n√™n c√≥ th·ªÉ lo·∫°i b·ªè t·ª´ <code>public</code> trong method test</li>
</ul>
<p>Ch·ªçn m·ªôt trong c√°c convention sau:</p>
<ol>
<li>
<p><strong>[Recommend]</strong> S·ª≠ d·ª•ng prefix <code>test_</code></p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #2838b0">function</span> <span style="color: #785840">test_it_returns_false_when_input_number_is_odd</span><span style="color: #888888">()</span>
</code></pre></div>
</li>
<li>
<p>S·ª≠ d·ª•ng annotation <code>@test</code> th√¨ t√™n test method kh√¥ng c·∫ßn ph·∫£i b·∫Øt ƒë·∫ßu b·∫±ng <code>test_</code></p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #888888; font-style: italic">/* @test */</span>
<span style="color: #2838b0">function</span> <span style="color: #785840">it_returns_false_when_input_number_is_odd</span><span style="color: #888888">()</span>
</code></pre></div>
</li>
<li>
<p>S·ª≠ d·ª•ng <code>camelCase</code> thay cho <code>snake_case</code>, ch·ªâ n√™n s·ª≠ d·ª•ng n·∫øu trong project ƒë√£ vi·∫øt theo c√°ch n√†y tr∆∞·ªõc ƒë√≥</p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #2838b0">function</span> <span style="color: #785840">testItReturnsFalseWhenInputNumberIsOdd</span><span style="color: #888888">()</span>
</code></pre></div>
</li>
</ol>
<h2 id="2-a3-arrange-asset-act"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [2] A3 (Arrange, Asset, Act)<a class="headerlink" href="#2-a3-arrange-asset-act" title="Permanent link">&para;</a></h2>
<blockquote>
<p>A3 (Arrange, Asset, Act)</p>
<ul>
<li>Arrange: thi·∫øt l·∫≠p tr·∫°ng th√°i, kh·ªüi t·∫°o object, gi·∫£ l·∫≠p mock</li>
<li>Act: Ch·∫°y unit ƒëang c·∫ßn test (method under test)</li>
<li>Assert: So s√°nh expected v·ªõi k·∫øt qu·∫£ tr·∫£ v·ªÅ</li>
</ul>
</blockquote>
<p><strong>M·ª•c ƒë√≠ch:</strong></p>
<ul>
<li>N·ªôi dung test method r√µ r√†ng d·ªÖ ƒë·ªçc, d·ªÖ vi·∫øt</li>
</ul>
<p><strong>Th·ª±c hi·ªán</strong></p>
<ul>
<li>
<p>Chia n·ªôi dung test l√†m 3 ph·∫ßn</p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #2838b0">function</span> <span style="color: #785840">test_validation_failed_when_value_exceed_max_length</span><span style="color: #888888">()</span>
<span style="color: #888888">{</span>
    <span style="color: #888888; font-style: italic">// Arrange</span>
    <span style="color: #b04040">$username</span> <span style="color: #666666">=</span> <span style="color: #388038">str_pad</span><span style="color: #888888">(</span><span style="color: #b83838">&#39;a&#39;</span><span style="color: #888888">,</span> UsernameValidation<span style="color: #666666">::</span><span style="color: #388038">MAX_LENGTH</span> <span style="color: #666666">+</span> <span style="color: #444444">1</span><span style="color: #888888">);</span>

    <span style="color: #888888; font-style: italic">// Act</span>
    <span style="color: #b04040">$validation</span> <span style="color: #666666">=</span> <span style="color: #2838b0">new</span> UsernameValidation<span style="color: #888888">;</span>
    <span style="color: #b04040">$isValidUsername</span> <span style="color: #666666">=</span> <span style="color: #b04040">$validation</span><span style="color: #666666">-&gt;</span><span style="color: #388038">isValid</span><span style="color: #888888">(</span><span style="color: #b04040">$username</span><span style="color: #888888">);</span>

    <span style="color: #888888; font-style: italic">// Assert</span>
    <span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertFalse</span><span style="color: #888888">(</span><span style="color: #b04040">$isValidUsername</span><span style="color: #888888">);</span>
<span style="color: #888888">}</span>
</code></pre></div>
</li>
<li>
<p>Ngo·∫°i l·ªá khi test m·ªôt method throw exception, do v·∫•n ƒë·ªÅ k·ªπ thu·∫≠t n√™n ph·∫£i g·ªçi <code>expectionException()</code> tr∆∞·ªõc khi g·ªçi method:</p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #2838b0">function</span> <span style="color: #785840">test_it_throws_exception_when_input_is_not_a_number</span><span style="color: #888888">()</span>
<span style="color: #888888">{</span>
    <span style="color: #888888; font-style: italic">// Assert that</span>
    <span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">expectException</span><span style="color: #888888">(</span>InvalidArgumentException<span style="color: #666666">::</span><span style="color: #388038">class</span><span style="color: #888888">);</span>

    <span style="color: #888888; font-style: italic">// Arrange</span>
    <span style="color: #b04040">$calculator</span> <span style="color: #666666">=</span> <span style="color: #2838b0">new</span> Calculator<span style="color: #888888">;</span>
    <span style="color: #b04040">$input1</span> <span style="color: #666666">=</span> <span style="color: #b83838">&#39;i am a string&#39;</span><span style="color: #888888">;</span>
    <span style="color: #b04040">$input2</span> <span style="color: #666666">=</span> <span style="color: #444444">100</span><span style="color: #888888">;</span>

    <span style="color: #888888; font-style: italic">// Act</span>
    <span style="color: #b04040">$calculator</span><span style="color: #666666">-&gt;</span><span style="color: #388038">add</span><span style="color: #888888">(</span><span style="color: #b04040">$input1</span><span style="color: #888888">,</span> <span style="color: #b04040">$input2</span><span style="color: #888888">);</span>
<span style="color: #888888">}</span>
</code></pre></div>
</li>
</ul>
<h2 id="3-use-sematicproper-assert-method"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [3] Use sematic/proper assert method<a class="headerlink" href="#3-use-sematicproper-assert-method" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Keep assert method descriptive. Use proper assert method to improve the readability of code and the error log.</p>
</blockquote>
<p>S·ª≠ d·ª•ng assertion ph√π h·ª£p</p>
<ul>
<li>Code d·ªÖ ƒë·ªçc hi·ªÉu h∆°n</li>
<li>N·∫øu assert failed th√¨ message sinh ra c≈©ng d·ªÖ hi·ªÉu h∆°n</li>
<li>Signature c·ªßa c√°c method assert th∆∞·ªùng c√≥ c√°c tham s·ªë theo th·ª© t·ª± l√† expected value (gi√° tr·ªã mong mu·ªën), actual value (gi√° tr·ªã th·ª±c t·∫ø khi ch·∫°y unit), message (message th√¥ng b√°o n·∫øu fail) n√™n c·∫ßn truy·ªÅn theo th·ª© t·ª± ƒë·ªÉ PHPUnit c√≥ th·ªÉ generate ra message b√°o l·ªói ch√≠nh x√°c</li>
</ul>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%; margin: 0;"><span></span><code><span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertEquals</span><span style="color: #888888">(</span><span style="color: #b04040">$expected</span><span style="color: #888888">,</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>
<span style="color: #888888; font-style: italic">// =&gt; Failed asserting that $actual matches expected $expected.</span>
<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertTrue</span><span style="color: #888888">(</span><span style="color: #b04040">$expected</span> <span style="color: #666666">==</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>
<span style="color: #888888; font-style: italic">// =&gt; Failed asserting that false is true??</span>

<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertSame</span><span style="color: #888888">(</span><span style="color: #b04040">$expected</span><span style="color: #888888">,</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>
<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertTrue</span><span style="color: #888888">(</span><span style="color: #b04040">$expected</span> <span style="color: #666666">===</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>

<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertContains</span><span style="color: #888888">(</span><span style="color: #b04040">$element</span><span style="color: #888888">,</span> <span style="color: #b04040">$array</span><span style="color: #888888">);</span>
<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertTrue</span><span style="color: #888888">(</span><span style="color: #388038">in_array</span><span style="color: #888888">(</span><span style="color: #b04040">$element</span><span style="color: #888888">,</span> <span style="color: #b04040">$array</span><span style="color: #888888">);</span>

<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertCount</span><span style="color: #888888">(</span><span style="color: #b04040">$expected</span><span style="color: #888888">,</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>
<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertTrue</span><span style="color: #888888">(</span><span style="color: #388038">count</span><span style="color: #888888">(</span><span style="color: #b04040">$actual</span><span style="color: #888888">)</span> <span style="color: #666666">==</span> <span style="color: #b04040">$expected</span><span style="color: #888888">);</span>

<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertInstanceOf</span><span style="color: #888888">(</span>ExpectedClass<span style="color: #666666">::</span><span style="color: #388038">class</span><span style="color: #888888">,</span> <span style="color: #b04040">$actual</span><span style="color: #888888">);</span>
<span style="color: #b04040">$this</span><span style="color: #666666">-&gt;</span><span style="color: #388038">assertTrue</span><span style="color: #888888">(</span><span style="color: #b04040">$actual</span> instanceOf ExpectedClass<span style="color: #888888">);</span>
</code></pre></div>
<h2 id="4-if-you-write-code-write-tests"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [4] If you write code, write tests<a class="headerlink" href="#4-if-you-write-code-write-tests" title="Permanent link">&para;</a></h2>
<p><strong>Th·ª±c hi·ªán</strong></p>
<p>M·ªçi PR ƒë·ªÅu ph·∫£i ch√∫ √Ω ƒë·∫øn test</p>
<ul>
<li>PR th√™m feature =&gt; vi·∫øt test cho feature m·ªõi</li>
<li>PR fix bug =&gt; vi·∫øt test ƒë·ªÉ tr√°nh bug x·∫£y ra 1 l·∫ßn n·ªØa</li>
<li>PR refactor =&gt; ch·∫°y, update test ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng ph√°t sinh ·∫£nh h∆∞·ªüng</li>
<li>N√™n t√≠ch h·ª£p CI ƒë·ªÉ ch·∫°y test</li>
</ul>
<p><strong>FAQ</strong>:</p>
<ol>
<li>
<p>Q: Th·ªùi ƒëi·ªÉm t·ªët nh·∫•t ƒë·ªÉ vi·∫øt test?</p>
<p>A: Th·ªùi ƒëi·ªÉm t·ªët nh·∫•t l√† khi code c√≤n m·ªõi! Th·ªùi ƒëi·ªÉm m√† c·∫£ code v√† test ƒë·ªÅu c√≥ th·ªÉ d·ªÖ d√†ng thay ƒë·ªïi. T∆∞·ªüng t∆∞·ª£ng code gi·ªëng nh∆∞ <em>ƒë·∫•t s√©t</em>, khi c√≤n m·ªõi th√¨ n√≥ m·ªÅm v√† d·ªÖ n·∫∑n, n·∫øu ƒë·ªÉ l√¢u th√¨ n√≥ s·∫Ω c·ª©ng v√† d·ªÖ v·ª° <img alt="üòÑ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f604.svg" title=":smile:" /></p>
</li>
</ol>
<h2 id="5-unit-vs-integration"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [5] Unit vs Integration?<a class="headerlink" href="#5-unit-vs-integration" title="Permanent link">&para;</a></h2>
<p><strong>Rule ƒë∆°n gi·∫£n</strong></p>
<ul>
<li>Unit test<ul>
<li>Test t·ª´ng function ho·∫∑c method c·ªßa m·ªôt class</li>
<li>Kh√¥ng th·ª±c hi·ªán nh·ªØng vi·ªác sau:<ul>
<li>Truy v·∫•n c∆° s·ªü d·ªØ li·ªáu (l√†m ch·∫≠m qu√° tr√¨nh test)</li>
<li>S·ª≠ d·ª•ng network (g·ª≠i mail, g·ªçi api b√™n ngo√†i,...) (l√†m ch·∫≠m, k·∫øt qu·∫£ kh√¥ng ·ªïn ƒë·ªãnh v√¨ ph·ª• thu·ªôc v√†o m·∫°ng)</li>
<li>S·ª≠ d·ª•ng file system (l√†m ch·∫≠m qu√° tr√¨nh test)</li>
</ul>
</li>
</ul>
</li>
<li>Integration test<ul>
<li>Test vi·ªác k·∫øt h·ª£p gi·ªØa c√°c unit (function, method) v·ªõi nhau =&gt; test m·ªôt nh√≥m Unit (v√≠ d·ª• test route)</li>
<li>C√≥ th·ªÉ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu (thi·∫øt l·∫≠p m·ªôt database test ri√™ng bi·ªát)</li>
<li>C√≥ th·ªÉ s·ª≠ d·ª•ng file system (test vi·ªác import/export file, file permission...)</li>
</ul>
</li>
</ul>
<p><strong>L·ªùi khuy√™n</strong></p>
<p>V·ªõi ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu, b·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu ƒëi t·ª´ integration test b·∫±ng vi·ªác test t·ª´ng route.
Trong qu√° tr√¨nh vi·∫øt integration test c·ªë g·∫Øng split ra unit test nh·ªè h∆°n n·∫øu ƒë∆∞·ª£c.</p>
<p>Qu√° nhi·ªÅu integration test s·∫Ω khi·∫øn th·ªùi gian ch·∫°y test l√¢u h∆°n, vi·ªác truy v·∫øt l·ªói c≈©ng kh√≥ khƒÉn h∆°n do 1 feature ch·∫°y qua nhi·ªÅu l·ªõp, layer code.</p>
<h2 id="6-my-tests-are-fast"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [6] My tests are fast!<a class="headerlink" href="#6-my-tests-are-fast" title="Permanent link">&para;</a></h2>
<p><strong>Th·ª±c hi·ªán</strong></p>
<ul>
<li>Ngo√†i vi·ªác ch√∫ tr·ªçng v√†o vi·ªác vi·∫øt test case ƒë√∫ng, c·∫ßn ch√∫ √Ω ƒë·∫øn th·ªùi gian ch·∫°y test</li>
<li>H·∫°n ch·∫ø test database (integration), v√† n·∫øu c√≥ th·ªÉ th√¨ d√πng sqlite in-memory l√†m database test</li>
<li>Test kh√¥ng g·ªçi network hay api service ngo√†i</li>
<li>Khi test l√†m vi·ªác v·ªõi file, c√¢n nh·∫Øc s·ª≠ d·ª•ng <a href="https://github.com/bovigo/vfsStream">vfsStream</a></li>
<li>Khi ch·∫°y phpunit ƒë·ªÉ generate code coverage c√¢n nh·∫Øc l·ª±a ch·ªçn driver th√≠ch h·ª£p, xem th√™m <a href="../04-code-coverage/">Code Coverage</a></li>
</ul>
<p><strong>T·∫°i sao?</strong></p>
<ul>
<li>B·∫°n s·∫Ω ph·∫£i ch·∫°y tests th∆∞·ªùng xuy√™n, l·∫∑p l·∫°i =&gt; N·∫øu tests ch·∫°y qu√° ch·∫≠m s·∫Ω l√†m ·∫£nh h∆∞·ªüng ƒë·∫øn ti·∫øn ƒë·ªô, tinh th·∫ßn l√†m vi·ªác</li>
<li>D·ª± √°n √°p d·ª•ng CI ƒë·ªÉ build, test v√† deploy =&gt; N·∫øu tests ch·∫°y qu√° ch·∫≠m s·∫Ω d·∫´n ƒë·∫øn vi·ªác t√≠ch h·ª£p cho c·∫£ team b·ªã ch·∫≠m</li>
</ul>
<h2 id="7-quality-over-code-coverage-number"><img alt="‚úÖ" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2705.svg" title=":white_check_mark:" /> [7] Quality over code coverage number!<a class="headerlink" href="#7-quality-over-code-coverage-number" title="Permanent link">&para;</a></h2>
<p><strong>S·ª± th·∫≠t v·ªÅ code coverage</strong></p>
<ul>
<li>Kh√¥ng c·∫ßn vi·∫øt test ƒë√∫ng v·∫´n c√≥ th·ªÉ ƒë·∫°t 100% coverage!</li>
<li>C√≥ tr∆∞·ªùng h·ª£p ƒë√£ ƒë·∫°t 100% coverage r·ªìi nh∆∞ng v·∫´n c√≥ kh·∫£ nƒÉng l·ªçt bug v√¨ thi·∫øu test case</li>
</ul>
<p>=&gt; Tham kh·∫£o th√™m c√°ch phpunit t√≠nh coverage =&gt; <a href="https://github.com/sun7pro/phpunit-training-coverage/issues/2">link</a></p>
<p><strong>Th·ª±c hi·ªán</strong></p>
<ul>
<li>Ch√∫ tr·ªçng v√†o ch·∫•t l∆∞·ª£ng test case, vi·∫øt sao cho ƒë·ªß test case? l√†m sao ƒë·ªÉ test ch·∫°y nhanh h∆°n? l√†m sao ƒë·ªÉ vi·∫øt test d·ªÖ h∆°n, refactor code?</li>
<li>√Åp d·ª•ng mutation testing v√†o d·ª± √°n n·∫øu c√≥ th·ªÉ, ƒë·ªÉ c√≥ ch·ªâ s·ªë ƒë√°nh g√≠a t·ªët h∆°n =&gt; <a href="../06-mutation-testing/">Mutation Testing</a></li>
</ul>
<h2 id="pull-request-template">Pull request template<a class="headerlink" href="#pull-request-template" title="Permanent link">&para;</a></h2>
<p>Tham kh·∫£o <a href="https://github.com/sun7pro/.github/blob/master/PULL_REQUEST_TEMPLATE.md">https://github.com/sun7pro/.github/blob/master/PULL_REQUEST_TEMPLATE.md</a> ƒë·ªÉ √°p d·ª•ng pull request template cho d·ª± √°n.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../07-laravel/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Laravel
              </div>
            </div>
          </a>
        
        
          <a href="../09-references/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                T√†i li·ªáu kh√°c
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>